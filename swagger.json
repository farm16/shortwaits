{"openapi":"3.0.0","paths":{"/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/v1/auth/admin/local/sign-up":{"post":{"operationId":"AuthController_signUpLocal","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpWithEmailDto"}}}},"responses":{"201":{"description":"Returns new user & business record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}}},"tags":["auth"]}},"/v1/auth/admin/local/sign-in":{"post":{"operationId":"AuthController_signInLocal","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInWithEmailDto"}}}},"responses":{"201":{"description":"Returns existing user record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}}},"tags":["auth"]}},"/v1/auth/sign-out":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"201":{"description":"Revokes tokens"}},"tags":["auth"]}},"/v1/auth/refresh":{"post":{"operationId":"AuthController_refreshTokens","parameters":[],"responses":{"201":{"description":"Returns refreshed token"}},"tags":["auth"]}},"/v1/business-user/{id}":{"get":{"operationId":"BusinessUsersController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["business-user"],"security":[{"bearer":[]}]},"delete":{"operationId":"BusinessUsersController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["business-user"],"security":[{"bearer":[]}]}},"/v1/business-user":{"put":{"operationId":"BusinessUsersController_update","parameters":[],"responses":{"202":{"description":""}},"tags":["business-user"],"security":[{"bearer":[]}]},"post":{"operationId":"BusinessUsersController_create","parameters":[],"responses":{"201":{"description":""}},"tags":["business-user"],"security":[{"bearer":[]}]}},"/v1/business":{"put":{"operationId":"BusinessController_patchBusiness","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBusinessDto"}}}},"responses":{"201":{"description":"Updates business record"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}":{"get":{"operationId":"BusinessController_getBusiness","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business record"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/admins":{"get":{"operationId":"BusinessController_getBusinessAdmins","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business services"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/services":{"get":{"operationId":"BusinessController_getBusinessServices","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business services"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/categories":{"get":{"operationId":"BusinessController_getBusinessCategories","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business categories"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/hours":{"get":{"operationId":"BusinessController_getBusinessHours","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business hours"}},"tags":["business"],"security":[{"bearer":[]}]},"put":{"operationId":"BusinessController_putBusiness","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"201":{"description":"Updates business hours"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/events":{"get":{"operationId":"BusinessController_getBusinessEvents","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business hours"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/clients":{"get":{"operationId":"BusinessController_getBusinessClients","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business clients"}},"tags":["business"],"security":[{"bearer":[]}]},"post":{"operationId":"BusinessController_createBusinessClients","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"201":{"description":"Returns created"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/{id}/staff":{"get":{"operationId":"BusinessController_getBusinessStaffByIds","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns business staff"}},"tags":["business"],"security":[{"bearer":[]}]},"post":{"operationId":"BusinessController_createBusinessStaff","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"201":{"description":"Returns business staff"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/business/register":{"put":{"operationId":"BusinessController_registerBusiness","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBusinessDto"}}}},"responses":{"201":{"description":"Register Business"}},"tags":["business"],"security":[{"bearer":[]}]}},"/v1/shortwaits/admin/mobile":{"get":{"operationId":"ShortwaitsController_getMobileDefaultData","parameters":[],"responses":{"201":{"description":"Returns default data for admin mobile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Shortwaits"}}}}},"tags":["shortwaits"]}},"/v1/events/{eventId}":{"get":{"operationId":"EventsController_getEvent","parameters":[{"name":"eventId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get a event record by id"}},"tags":["events"],"security":[{"bearer":[]}]}},"/v1/events/user/{userId}":{"get":{"operationId":"EventsController_getEventsByUser","parameters":[{"name":"businessId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"date","required":true,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"month","required":true,"in":"query","schema":{"type":"number"}},{"name":"year","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"201":{"description":"Get all events for a user"}},"tags":["events"],"security":[{"bearer":[]}]}},"/v1/events/business/{businessId}":{"get":{"operationId":"EventsController_getEventsByBusiness","parameters":[{"name":"businessId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"date","required":true,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"month","required":true,"in":"query","schema":{"type":"number"}},{"name":"year","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"201":{"description":"Get all events in a business (business is NOT a user!!!)"}},"tags":["events"],"security":[{"bearer":[]}]}},"/v1/events":{"post":{"operationId":"EventsController_createEventByUser","parameters":[{"name":"businessId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventsDto"}}}},"responses":{"201":{"description":"Create new event record by User (not business user or business)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Events"}}}}},"tags":["events"],"security":[{"bearer":[]}]},"put":{"operationId":"EventsController_updateEventByAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventsDto"}}}},"responses":{"201":{"description":"Create new event record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventsDto"}}}}},"tags":["events"],"security":[{"bearer":[]}]}},"/v1/services":{"post":{"operationId":"ServicesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceDto"}}}},"responses":{"201":{"description":""}},"tags":["services"],"security":[{"bearer":[]}]},"get":{"operationId":"ServicesController_getServices","parameters":[{"name":"businessId","required":false,"in":"query","schema":{"format":"string","type":"string"}},{"name":"serviceId","required":false,"in":"query","schema":{"format":"string","type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":0,"maximum":10000,"exclusiveMaximum":true,"exclusiveMinimum":true,"title":"Page","format":"int32","default":0,"type":"number"}},{"name":"_sortBy","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetServicesDto"}}}},"responses":{"200":{"description":""}},"tags":["services"],"security":[{"bearer":[]}]}},"/v1/services/{id}":{"put":{"operationId":"ServicesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateServiceDto"}}}},"responses":{"200":{"description":""}},"tags":["services"],"security":[{"bearer":[]}]},"patch":{"operationId":"ServicesController_updateSome","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateServiceDto"}}}},"responses":{"200":{"description":""}},"tags":["services"],"security":[{"bearer":[]}]},"delete":{"operationId":"ServicesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["services"],"security":[{"bearer":[]}]}},"/v1/client-user/{id}":{"get":{"operationId":"ClientUserController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["client-user"],"security":[{"bearer":[]}]}},"/v1/categories":{"get":{"operationId":"CategoriesController_getAllCategories","parameters":[],"responses":{"201":{"description":"Returns all categories record"}},"tags":["categories"],"security":[{"bearer":[]}]}},"/v1/categories/{id}":{"get":{"operationId":"CategoriesController_getCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Returns category record"}},"tags":["categories"],"security":[{"bearer":[]}]}}},"info":{"title":"Shortwaits Admin - API","description":"Shortwaits's successful response: <br>\n      <code>{data: [\n      { id: 1, name: \"Item 1\" },\n      { id: 2, name: \"Item 2\" },\n      { id: 3, name: \"Item 3\" },\n      ],<br>\n      statusCode: 200,<br>\n      meta: {\n      pagination: {\n      totalItems: 10,\n      totalPages: 2,\n      currentPage: 1,\n      itemsPerPage: 3,\n      },\n      },\n      }<code>\n    ","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"https://api.shortwaits.com","description":"Production server"},{"url":"http://127.0.0.1:8080","description":"Dev server"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"SignUpWithEmailDto":{"type":"object","properties":{"username":{"type":"string","example":"shortwaits123"},"email":{"type":"string","example":"shortwaits123@123.com"},"password":{"type":"string","example":"Shortwaits123"}},"required":["username","email","password"]},"AuthSuccessResponse":{"type":"object","properties":{"auth":{"type":"object"},"attributes":{"type":"object"}},"required":["auth","attributes"]},"SignInWithEmailDto":{"type":"object","properties":{"username":{"type":"string","example":"shortwaits123"},"email":{"type":"string","example":"shortwaits123@123.com"},"password":{"type":"string","example":"Shortwaits123"}},"required":["username","email","password"]},"UpdateBusinessDto":{"type":"object","properties":{"shortName":{"type":"string"},"description":{"type":"string"},"isRegistrationCompleted":{"type":"boolean"},"staff":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"services":{"type":"array","items":{"type":"string"}},"country":{"type":"string"},"phone1":{"type":"string"},"longName":{"type":"string"}},"required":["shortName","description","isRegistrationCompleted","staff","categories","services","country","phone1","longName"]},"CreateBusinessDto":{"type":"object","properties":{"shortName":{"type":"string"},"description":{"type":"string"},"isRegistrationCompleted":{"type":"boolean"},"staff":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"services":{"type":"array","items":{"type":"string"}}},"required":["shortName","description","isRegistrationCompleted","staff","categories","services"]},"Shortwaits":{"type":"object","properties":{"short_id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"links":{"type":"array","items":{"type":"string"}},"suggestedLang":{"type":"string"},"blackList":{"type":"array","items":{"type":"string"}},"timeZones":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"sampleBusinessData":{"type":"object"},"serviceColors":{"type":"object"}},"required":["short_id","name","description","links","suggestedLang","blackList","timeZones","categories","sampleBusinessData","serviceColors"]},"ObjectId":{"type":"object","properties":{}},"CreateEventsDto":{"type":"object","properties":{"serviceId":{"type":"object"},"businessId":{"$ref":"#/components/schemas/ObjectId"},"service":{"$ref":"#/components/schemas/ObjectId"},"createdBy":{"$ref":"#/components/schemas/ObjectId"},"updatedBy":{"$ref":"#/components/schemas/ObjectId"},"status":{"type":"object"},"durationInMin":{"type":"number"},"startTime":{"format":"date-time","type":"string"},"endTime":{"format":"date-time","type":"string"},"endTimeExpected":{"format":"date-time","type":"string"},"priceExpected":{"type":"number"},"priceFinal":{"type":"number"},"canceled":{"type":"boolean"},"cancellationReason":{"type":"string"},"isGroupEvent":{"type":"boolean"},"repeat":{"type":"boolean"},"payment":{"type":"object"},"notes":{"type":"string"},"deleted":{"type":"boolean"}},"required":["serviceId","businessId","service","createdBy","updatedBy","status","durationInMin","startTime","endTime","endTimeExpected","priceExpected","priceFinal","canceled","cancellationReason","isGroupEvent","repeat","payment","notes","deleted"]},"Events":{"type":"object","properties":{"paymentMethod":{"type":"string"},"participantsIds":{"type":"array","items":{"type":"string"}},"leadClientId":{"type":"object"},"urls":{"type":"array","items":{"type":"string"}},"location":{"type":"string"},"attendeeLimit":{"type":"number"},"registrationDeadline":{"format":"date-time","type":"string"},"registrationFee":{"type":"number"},"serviceId":{"type":"object"},"staffIds":{"type":"array","items":{"type":"string"}},"clientsIds":{"type":"array","items":{"type":"string"}},"hasNoDuration":{"type":"boolean"},"leadClientName":{"type":"string"},"eventImage":{"type":"string"},"businessId":{"type":"object"},"name":{"type":"string"},"description":{"type":"string"},"createdBy":{"type":"object"},"updatedBy":{"type":"object"},"staff":{"type":"array","items":{"type":"string"}},"clients":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"status":{"type":"object"},"durationInMin":{"type":"number"},"startTime":{"format":"date-time","type":"string"},"endTime":{"format":"date-time","type":"string"},"endTimeExpected":{"format":"date-time","type":"string"},"priceExpected":{"type":"number"},"priceFinal":{"type":"number"},"canceled":{"type":"boolean"},"cancellationReason":{"type":"string"},"isGroupEvent":{"type":"boolean"},"repeat":{"type":"boolean"},"payment":{"type":"object"},"notes":{"type":"string"},"labels":{"type":"array","items":{"type":"string"}},"deleted":{"type":"boolean"}},"required":["paymentMethod","participantsIds","leadClientId","urls","location","attendeeLimit","registrationDeadline","registrationFee","serviceId","staffIds","clientsIds","hasNoDuration","leadClientName","eventImage","businessId","name","description","createdBy","updatedBy","staff","clients","features","status","durationInMin","startTime","endTime","endTimeExpected","priceExpected","priceFinal","canceled","cancellationReason","isGroupEvent","repeat","payment","notes","labels","deleted"]},"CreateServiceDto":{"type":"object","properties":{}},"GetServicesDto":{"type":"object","properties":{"services":{"type":"array","items":{"type":"string","format":"array"}}}},"UpdateServiceDto":{"type":"object","properties":{}}}}}